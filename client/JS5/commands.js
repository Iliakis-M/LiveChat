"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var Command=/*#__PURE__*/function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(a){return a},d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"im";_classCallCheck(this,a),this.reg=new RegExp(b,d),this.exec=c}//ctor
return _createClass(a,[{key:"test",value:function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return!!this.reg.test(a)&&this.exec(a)}//test
}]),a}(),commands={disconnect:new Command("^"+prefix+"disc?(onnect)?$",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.disconnect());case 1:case"end":return a.stop();}},a,this)}))),connect:new Command("^"+prefix+"con(nect)?$",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.open());case 1:case"end":return a.stop();}},a,this)}))),admin:new Command("^"+prefix+"adm(in)? .+$",/*#__PURE__*/function(){var a=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.emit("imAdmin",drop(b)));case 1:case"end":return a.stop();}},a,this)}));return function(){return a.apply(this,arguments)}}()),cli:new Command("^"+prefix+"cli ",/*#__PURE__*/function(){var a=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.emit("cli",drop(b.trim())));case 1:case"end":return a.stop();}},a,this)}));return function(){return a.apply(this,arguments)}}()),help:new Command("^"+prefix+"he?lp$",function(){return message("Available commands are : disconnect, connect, help","<font color='red'><b>SYSTEM</b></font>")})};//Command
function command(a){for(var b in commands)if(commands[b].test(a))return;message("Command '".concat(a,"' not found."),"<font color='red'><b>SYSTEM</b></font>")}//command
console.info("Commands loaded.");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL0pTL2NvbW1hbmRzLmpzIl0sIm5hbWVzIjpbIkNvbW1hbmQiLCJyZWdleHAiLCJleGMiLCJsaW5lIiwiZmxhZ3MiLCJyZWciLCJSZWdFeHAiLCJleGVjIiwiYWdhaW5zdCIsInRlc3QiLCJjb21tYW5kcyIsImRpc2Nvbm5lY3QiLCJwcmVmaXgiLCJzb2NrIiwiY29ubmVjdCIsIm9wZW4iLCJhZG1pbiIsImVtaXQiLCJkcm9wIiwiY2xpIiwidHJpbSIsImhlbHAiLCJtZXNzYWdlIiwiY29tbWFuZCIsImkiLCJjb25zb2xlIiwiaW5mbyJdLCJtYXBwaW5ncyI6IkFBQUMsYSxrd0JBRUtBLENBQUFBLE8seUJBQ0wsV0FBWUMsQ0FBWixDQUErRixJQUFuRUMsQ0FBQUEsQ0FBbUUsd0RBQW5ELFNBQUNDLENBQUQsUUFBdUJBLENBQUFBLENBQXZCLENBQW1ELENBQXRCQyxDQUFzQix3REFBTixJQUFNLHlCQUM5RixLQUFLQyxHQUFMLENBQVcsR0FBSUMsQ0FBQUEsTUFBSixDQUFXTCxDQUFYLENBQW1CRyxDQUFuQixDQURtRixDQUU5RixLQUFLRyxJQUFMLENBQVlMLENBQ1osQ0FBQztxREFFOEIsSUFBM0JNLENBQUFBLENBQTJCLHdEQUFULEVBQVMsU0FDM0IsS0FBS0gsR0FBTCxDQUFTSSxJQUFULENBQWNELENBQWQsQ0FEMkIsRUFFdkIsS0FBS0QsSUFBTCxDQUFVQyxDQUFWLENBSVIsQ0FBQztTQUdDRSxRQUFnQixDQUFHLENBQ3RCQyxVQUFVLENBQUUsR0FBSVgsQ0FBQUEsT0FBSixDQUFZLElBQU1ZLE1BQU4sQ0FBZSxpQkFBM0IscUVBQThDLHFIQUFpQkMsSUFBSSxDQUFDRixVQUFMLEVBQWpCLDhDQUE5QyxHQURVLENBRXRCRyxPQUFPLENBQUUsR0FBSWQsQ0FBQUEsT0FBSixDQUFZLElBQU1ZLE1BQU4sQ0FBZSxhQUEzQixxRUFBMEMscUhBQWlCQyxJQUFJLENBQUNFLElBQUwsRUFBakIsOENBQTFDLEdBRmEsQ0FHdEJDLEtBQUssQ0FBRSxHQUFJaEIsQ0FBQUEsT0FBSixDQUFZLElBQU1ZLE1BQU4sQ0FBZSxjQUEzQixzRkFBMkMsV0FBT1QsQ0FBUCwwR0FBNkJVLElBQUksQ0FBQ0ksSUFBTCxDQUFVLFNBQVYsQ0FBcUJDLElBQUksQ0FBQ2YsQ0FBRCxDQUF6QixDQUE3Qiw4Q0FBM0Msd0RBSGUsQ0FJdEJnQixHQUFHLENBQUUsR0FBSW5CLENBQUFBLE9BQUosQ0FBWSxJQUFNWSxNQUFOLENBQWUsTUFBM0Isc0ZBQW1DLFdBQU9ULENBQVAsMEdBQWlDVSxJQUFJLENBQUNJLElBQUwsQ0FBVSxLQUFWLENBQWlCQyxJQUFJLENBQUNmLENBQUksQ0FBQ2lCLElBQUwsRUFBRCxDQUFyQixDQUFqQyw4Q0FBbkMsd0RBSmlCLENBS3RCQyxJQUFJLENBQUUsR0FBSXJCLENBQUFBLE9BQUosQ0FBWSxJQUFNWSxNQUFOLENBQWUsUUFBM0IsQ0FBcUMsaUJBQVdVLENBQUFBLE9BQU8sQ0FBQyxvREFBRCxDQUF1RCx3Q0FBdkQsQ0FBbEIsQ0FBckMsQ0FMZ0IsQyxDQUZyQjtBQVVGLFFBQVNDLENBQUFBLE9BQVQsQ0FBaUJwQixDQUFqQixDQUFxQyxDQUNwQyxJQUFLLEdBQUlxQixDQUFBQSxDQUFULEdBQWNkLENBQUFBLFFBQWQsQ0FDQyxHQUFJQSxRQUFRLENBQUNjLENBQUQsQ0FBUixDQUFZZixJQUFaLENBQWlCTixDQUFqQixDQUFKLENBQ0MsT0FJRm1CLE9BQU8sb0JBQWFuQixDQUFiLGlCQUFpQyx3Q0FBakMsQ0FDUCxDQUFDO0FBRUZzQixPQUFPLENBQUNDLElBQVIsQ0FBYSxrQkFBYixDIiwic291cmNlc0NvbnRlbnQiOlsi77u/XCJ1c2Ugc3RyaWN0XCI7XG5cbmNsYXNzIENvbW1hbmQge1xuXHRjb25zdHJ1Y3RvcihyZWdleHA6IHN0cmluZywgZXhjOiBGdW5jdGlvbiA9IChsaW5lOiBzdHJpbmcpOiBhbnkgPT4gbGluZSwgZmxhZ3M6IHN0cmluZyA9IFwiaW1cIikge1xuXHRcdHRoaXMucmVnID0gbmV3IFJlZ0V4cChyZWdleHAsIGZsYWdzKTtcblx0XHR0aGlzLmV4ZWMgPSBleGM7XG5cdH0gLy9jdG9yXG5cblx0dGVzdChhZ2FpbnN0OiBzdHJpbmcgPSAnJyk6IGFueSB7XG5cdFx0aWYgKHRoaXMucmVnLnRlc3QoYWdhaW5zdCkpIHtcblx0XHRcdHJldHVybiB0aGlzLmV4ZWMoYWdhaW5zdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IC8vdGVzdFxufSAvL0NvbW1hbmRcblxubGV0IGNvbW1hbmRzOiBvYmplY3QgPSB7XG5cdGRpc2Nvbm5lY3Q6IG5ldyBDb21tYW5kKCdeJyArIHByZWZpeCArIFwiZGlzYz8ob25uZWN0KT8kXCIsIGFzeW5jICgpOiBhbnkgPT4gc29jay5kaXNjb25uZWN0KCkpLFxuXHRjb25uZWN0OiBuZXcgQ29tbWFuZCgnXicgKyBwcmVmaXggKyBcImNvbihuZWN0KT8kXCIsIGFzeW5jICgpOiBhbnkgPT4gc29jay5vcGVuKCkpLFxuXHRhZG1pbjogbmV3IENvbW1hbmQoJ14nICsgcHJlZml4ICsgXCJhZG0oaW4pPyAuKyRcIiwgYXN5bmMgKGxpbmU6IHN0cmluZyk6IGFueSA9PiBzb2NrLmVtaXQoXCJpbUFkbWluXCIsIGRyb3AobGluZSkpKSxcblx0Y2xpOiBuZXcgQ29tbWFuZCgnXicgKyBwcmVmaXggKyBcImNsaSBcIiwgYXN5bmMgKGxpbmU6IHN0cmluZyk6IGJvb2xlYW4gPT4gc29jay5lbWl0KFwiY2xpXCIsIGRyb3AobGluZS50cmltKCkpKSksXG5cdGhlbHA6IG5ldyBDb21tYW5kKCdeJyArIHByZWZpeCArIFwiaGU/bHAkXCIsICgpOiBhbnkgPT4gbWVzc2FnZShcIkF2YWlsYWJsZSBjb21tYW5kcyBhcmUgOiBkaXNjb25uZWN0LCBjb25uZWN0LCBoZWxwXCIsIFwiPGZvbnQgY29sb3I9J3JlZCc+PGI+U1lTVEVNPC9iPjwvZm9udD5cIikpXG59O1xuXG5mdW5jdGlvbiBjb21tYW5kKGxpbmU6IHN0cmluZyk6IHZvaWQge1xuXHRmb3IgKGxldCBpIGluIGNvbW1hbmRzKSB7XG5cdFx0aWYgKGNvbW1hbmRzW2ldLnRlc3QobGluZSkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblxuXHRtZXNzYWdlKGBDb21tYW5kICcke2xpbmV9JyBub3QgZm91bmQuYCwgXCI8Zm9udCBjb2xvcj0ncmVkJz48Yj5TWVNURU08L2I+PC9mb250PlwiKTtcbn0gLy9jb21tYW5kXG5cbmNvbnNvbGUuaW5mbyhcIkNvbW1hbmRzIGxvYWRlZC5cIik7XG4iXX0=