"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var Command=/*#__PURE__*/function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(a){return a},d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"im";_classCallCheck(this,a),this.reg=new RegExp(b,d),this.exec=c}//ctor
return _createClass(a,[{key:"test",value:function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return!!this.reg.test(a)&&this.exec(a)}//test
}]),a}(),commands={disconnect:new Command("^"+prefix+"disc?(onnect)?$",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.disconnect());case 1:case"end":return a.stop();}},a,this)}))),connect:new Command("^"+prefix+"con(nect)?$",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.open());case 1:case"end":return a.stop();}},a,this)}))),admin:new Command("^"+prefix+"adm(in)? .+$",/*#__PURE__*/function(){var a=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.emit("imAdmin",drop(b)));case 1:case"end":return a.stop();}},a,this)}));return function(){return a.apply(this,arguments)}}()),cli:new Command("^"+prefix+"cli ",/*#__PURE__*/function(){var a=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",sock.emit("cli",drop(b.trim())));case 1:case"end":return a.stop();}},a,this)}));return function(){return a.apply(this,arguments)}}()),help:new Command("^"+prefix+"he?lp$",function(){return message("Available commands are : disconnect, connect, help","<font color='red'><b>SYSTEM</b></font>")})};//Command
function command(a){for(var b in commands)if(commands[b].test(a))return;message("Command '".concat(a,"' not found."),"<font color='red'><b>SYSTEM</b></font>")}//command
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL0pTL2NvbW1hbmRzLmpzIl0sIm5hbWVzIjpbIkNvbW1hbmQiLCJyZWdleHAiLCJleGMiLCJsaW5lIiwiZmxhZ3MiLCJyZWciLCJSZWdFeHAiLCJleGVjIiwiYWdhaW5zdCIsInRlc3QiLCJjb21tYW5kcyIsImRpc2Nvbm5lY3QiLCJwcmVmaXgiLCJzb2NrIiwiY29ubmVjdCIsIm9wZW4iLCJhZG1pbiIsImVtaXQiLCJkcm9wIiwiY2xpIiwidHJpbSIsImhlbHAiLCJtZXNzYWdlIiwiY29tbWFuZCIsImkiXSwibWFwcGluZ3MiOiJBQUFDLGEsa3dCQUVLQSxDQUFBQSxPLHlCQUNMLFdBQVlDLENBQVosQ0FBK0YsSUFBbkVDLENBQUFBLENBQW1FLHdEQUFuRCxTQUFDQyxDQUFELFFBQXVCQSxDQUFBQSxDQUF2QixDQUFtRCxDQUF0QkMsQ0FBc0Isd0RBQU4sSUFBTSx5QkFDOUYsS0FBS0MsR0FBTCxDQUFXLEdBQUlDLENBQUFBLE1BQUosQ0FBV0wsQ0FBWCxDQUFtQkcsQ0FBbkIsQ0FEbUYsQ0FFOUYsS0FBS0csSUFBTCxDQUFZTCxDQUNaLENBQUM7cURBRXlCLElBQXRCTSxDQUFBQSxDQUFzQix3REFBSixFQUFJLFNBQ3RCLEtBQUtILEdBQUwsQ0FBU0ksSUFBVCxDQUFjRCxDQUFkLENBRHNCLEVBRWxCLEtBQUtELElBQUwsQ0FBVUMsQ0FBVixDQUlSLENBQUM7U0FHQ0UsUUFBZ0IsQ0FBRyxDQUN0QkMsVUFBVSxDQUFFLEdBQUlYLENBQUFBLE9BQUosQ0FBWSxJQUFNWSxNQUFOLENBQWUsaUJBQTNCLHFFQUE4QyxxSEFBaUJDLElBQUksQ0FBQ0YsVUFBTCxFQUFqQiw4Q0FBOUMsR0FEVSxDQUV0QkcsT0FBTyxDQUFFLEdBQUlkLENBQUFBLE9BQUosQ0FBWSxJQUFNWSxNQUFOLENBQWUsYUFBM0IscUVBQTBDLHFIQUFpQkMsSUFBSSxDQUFDRSxJQUFMLEVBQWpCLDhDQUExQyxHQUZhLENBR3RCQyxLQUFLLENBQUUsR0FBSWhCLENBQUFBLE9BQUosQ0FBWSxJQUFNWSxNQUFOLENBQWUsY0FBM0Isc0ZBQTJDLFdBQU9ULENBQVAsMEdBQTZCVSxJQUFJLENBQUNJLElBQUwsQ0FBVSxTQUFWLENBQXFCQyxJQUFJLENBQUNmLENBQUQsQ0FBekIsQ0FBN0IsOENBQTNDLHdEQUhlLENBSXRCZ0IsR0FBRyxDQUFFLEdBQUluQixDQUFBQSxPQUFKLENBQVksSUFBTVksTUFBTixDQUFlLE1BQTNCLHNGQUFtQyxXQUFPVCxDQUFQLDBHQUFpQ1UsSUFBSSxDQUFDSSxJQUFMLENBQVUsS0FBVixDQUFpQkMsSUFBSSxDQUFDZixDQUFJLENBQUNpQixJQUFMLEVBQUQsQ0FBckIsQ0FBakMsOENBQW5DLHdEQUppQixDQUt0QkMsSUFBSSxDQUFFLEdBQUlyQixDQUFBQSxPQUFKLENBQVksSUFBTVksTUFBTixDQUFlLFFBQTNCLENBQXFDLGlCQUFNVSxDQUFBQSxPQUFPLENBQUMsb0RBQUQsQ0FBdUQsd0NBQXZELENBQWIsQ0FBckMsQ0FMZ0IsQyxDQUZyQjtBQVVGLFFBQVNDLENBQUFBLE9BQVQsQ0FBaUJwQixDQUFqQixDQUFxQyxDQUNwQyxJQUFLLEdBQUlxQixDQUFBQSxDQUFULEdBQWNkLENBQUFBLFFBQWQsQ0FDQyxHQUFJQSxRQUFRLENBQUNjLENBQUQsQ0FBUixDQUFZZixJQUFaLENBQWlCTixDQUFqQixDQUFKLENBQ0MsT0FJRm1CLE9BQU8sb0JBQWFuQixDQUFiLGlCQUFpQyx3Q0FBakMsQ0FDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsi77u/XCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jbGFzcyBDb21tYW5kIHtcclxuXHRjb25zdHJ1Y3RvcihyZWdleHA6IHN0cmluZywgZXhjOiBGdW5jdGlvbiA9IChsaW5lOiBzdHJpbmcpOiBhbnkgPT4gbGluZSwgZmxhZ3M6IHN0cmluZyA9IFwiaW1cIikge1xyXG5cdFx0dGhpcy5yZWcgPSBuZXcgUmVnRXhwKHJlZ2V4cCwgZmxhZ3MpO1xyXG5cdFx0dGhpcy5leGVjID0gZXhjO1xyXG5cdH0gLy9jdG9yXHJcblxyXG5cdHRlc3QoYWdhaW5zdDogc3RyaW5nID0gJycpIHtcclxuXHRcdGlmICh0aGlzLnJlZy50ZXN0KGFnYWluc3QpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmV4ZWMoYWdhaW5zdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0gLy90ZXN0XHJcbn0gLy9Db21tYW5kXHJcblxyXG5sZXQgY29tbWFuZHM6IG9iamVjdCA9IHtcclxuXHRkaXNjb25uZWN0OiBuZXcgQ29tbWFuZCgnXicgKyBwcmVmaXggKyBcImRpc2M/KG9ubmVjdCk/JFwiLCBhc3luYyAoKTogYW55ID0+IHNvY2suZGlzY29ubmVjdCgpKSxcclxuXHRjb25uZWN0OiBuZXcgQ29tbWFuZCgnXicgKyBwcmVmaXggKyBcImNvbihuZWN0KT8kXCIsIGFzeW5jICgpOiBhbnkgPT4gc29jay5vcGVuKCkpLFxyXG5cdGFkbWluOiBuZXcgQ29tbWFuZCgnXicgKyBwcmVmaXggKyBcImFkbShpbik/IC4rJFwiLCBhc3luYyAobGluZTogc3RyaW5nKTogYW55ID0+IHNvY2suZW1pdChcImltQWRtaW5cIiwgZHJvcChsaW5lKSkpLFxyXG5cdGNsaTogbmV3IENvbW1hbmQoJ14nICsgcHJlZml4ICsgXCJjbGkgXCIsIGFzeW5jIChsaW5lOiBzdHJpbmcpOiBib29sZWFuID0+IHNvY2suZW1pdChcImNsaVwiLCBkcm9wKGxpbmUudHJpbSgpKSkpLFxyXG5cdGhlbHA6IG5ldyBDb21tYW5kKCdeJyArIHByZWZpeCArIFwiaGU/bHAkXCIsICgpID0+IG1lc3NhZ2UoXCJBdmFpbGFibGUgY29tbWFuZHMgYXJlIDogZGlzY29ubmVjdCwgY29ubmVjdCwgaGVscFwiLCBcIjxmb250IGNvbG9yPSdyZWQnPjxiPlNZU1RFTTwvYj48L2ZvbnQ+XCIpKVxyXG59O1xyXG5cclxuZnVuY3Rpb24gY29tbWFuZChsaW5lOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRmb3IgKGxldCBpIGluIGNvbW1hbmRzKSB7XHJcblx0XHRpZiAoY29tbWFuZHNbaV0udGVzdChsaW5lKSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRtZXNzYWdlKGBDb21tYW5kICcke2xpbmV9JyBub3QgZm91bmQuYCwgXCI8Zm9udCBjb2xvcj0ncmVkJz48Yj5TWVNURU08L2I+PC9mb250PlwiKTtcclxufSAvL2NvbW1hbmRcclxuIl19