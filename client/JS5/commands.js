"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var Command=/*#__PURE__*/function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(a){return a},d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"im";_classCallCheck(this,a),this.reg=new RegExp(b,d),this.exec=c}//ctor
return _createClass(a,[{key:"test",value:function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return!!this.reg.test(a)&&this.exec(a)}//test
}]),a}(),commands={disconnect:new Command("^"+prefix+"disc?(onnect)?$",function(){return sock.disconnect()}),connect:new Command("^"+prefix+"con(nect)?$",function(){return sock.open()}),admin:new Command("^"+prefix+"adm(in)? .+$",function(a){return sock.emit("imAdmin",drop(a))}),cli:new Command("^"+prefix+"cli ",function(a){return sock.emit("cli",drop(a.trim())),!0})};//Command
function command(a){for(var b in commands)if(commands[b].test(a))return;message("Command '".concat(a,"' not found."),"<font color='red'><b>SYSTEM</b></font>")}//command
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL0pTL2NvbW1hbmRzLmpzIl0sIm5hbWVzIjpbIkNvbW1hbmQiLCJyZWdleHAiLCJleGMiLCJsaW5lIiwiZmxhZ3MiLCJyZWciLCJSZWdFeHAiLCJleGVjIiwiYWdhaW5zdCIsInRlc3QiLCJjb21tYW5kcyIsImRpc2Nvbm5lY3QiLCJwcmVmaXgiLCJzb2NrIiwiY29ubmVjdCIsIm9wZW4iLCJhZG1pbiIsImVtaXQiLCJkcm9wIiwiY2xpIiwidHJpbSIsImNvbW1hbmQiLCJpIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUMsYSxxWUFFS0EsQ0FBQUEsTyx5QkFDTCxXQUFZQyxDQUFaLENBQStGLElBQW5FQyxDQUFBQSxDQUFtRSx3REFBbkQsU0FBQ0MsQ0FBRCxRQUF1QkEsQ0FBQUEsQ0FBdkIsQ0FBbUQsQ0FBdEJDLENBQXNCLHdEQUFOLElBQU0seUJBQzlGLEtBQUtDLEdBQUwsQ0FBVyxHQUFJQyxDQUFBQSxNQUFKLENBQVdMLENBQVgsQ0FBbUJHLENBQW5CLENBRG1GLENBRTlGLEtBQUtHLElBQUwsQ0FBWUwsQ0FDWixDQUFDO3FEQUV5QixJQUF0Qk0sQ0FBQUEsQ0FBc0Isd0RBQUosRUFBSSxTQUN0QixLQUFLSCxHQUFMLENBQVNJLElBQVQsQ0FBY0QsQ0FBZCxDQURzQixFQUVsQixLQUFLRCxJQUFMLENBQVVDLENBQVYsQ0FJUixDQUFDO1NBR0NFLFFBQWdCLENBQUcsQ0FDdEJDLFVBQVUsQ0FBRSxHQUFJWCxDQUFBQSxPQUFKLENBQVksSUFBTVksTUFBTixDQUFlLGlCQUEzQixDQUE4QyxpQkFBV0MsQ0FBQUEsSUFBSSxDQUFDRixVQUFMLEVBQVgsQ0FBOUMsQ0FEVSxDQUV0QkcsT0FBTyxDQUFFLEdBQUlkLENBQUFBLE9BQUosQ0FBWSxJQUFNWSxNQUFOLENBQWUsYUFBM0IsQ0FBMEMsaUJBQVdDLENBQUFBLElBQUksQ0FBQ0UsSUFBTCxFQUFYLENBQTFDLENBRmEsQ0FHdEJDLEtBQUssQ0FBRSxHQUFJaEIsQ0FBQUEsT0FBSixDQUFZLElBQU1ZLE1BQU4sQ0FBZSxjQUEzQixDQUEyQyxTQUFDVCxDQUFELFFBQXVCVSxDQUFBQSxJQUFJLENBQUNJLElBQUwsQ0FBVSxTQUFWLENBQXFCQyxJQUFJLENBQUNmLENBQUQsQ0FBekIsQ0FBdkIsQ0FBM0MsQ0FIZSxDQUl0QmdCLEdBQUcsQ0FBRSxHQUFJbkIsQ0FBQUEsT0FBSixDQUFZLElBQU1ZLE1BQU4sQ0FBZSxNQUEzQixDQUFtQyxTQUFDVCxDQUFELENBQTJCLENBRWxFLE1BREFVLENBQUFBLElBQUksQ0FBQ0ksSUFBTCxDQUFVLEtBQVYsQ0FBaUJDLElBQUksQ0FBQ2YsQ0FBSSxDQUFDaUIsSUFBTCxFQUFELENBQXJCLENBQ0EsR0FDQSxDQUhJLENBSmlCLEMsQ0FGckI7QUFZRixRQUFTQyxDQUFBQSxPQUFULENBQWlCbEIsQ0FBakIsQ0FBcUMsQ0FDcEMsSUFBSyxHQUFJbUIsQ0FBQUEsQ0FBVCxHQUFjWixDQUFBQSxRQUFkLENBQ0MsR0FBSUEsUUFBUSxDQUFDWSxDQUFELENBQVIsQ0FBWWIsSUFBWixDQUFpQk4sQ0FBakIsQ0FBSixDQUNDLE9BSUZvQixPQUFPLG9CQUFhcEIsQ0FBYixpQkFBaUMsd0NBQWpDLENBQ1AsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIu+7v1widXNlIHN0cmljdFwiO1xyXG5cclxuY2xhc3MgQ29tbWFuZCB7XHJcblx0Y29uc3RydWN0b3IocmVnZXhwOiBzdHJpbmcsIGV4YzogRnVuY3Rpb24gPSAobGluZTogc3RyaW5nKTogYW55ID0+IGxpbmUsIGZsYWdzOiBzdHJpbmcgPSBcImltXCIpIHtcclxuXHRcdHRoaXMucmVnID0gbmV3IFJlZ0V4cChyZWdleHAsIGZsYWdzKTtcclxuXHRcdHRoaXMuZXhlYyA9IGV4YztcclxuXHR9IC8vY3RvclxyXG5cclxuXHR0ZXN0KGFnYWluc3Q6IHN0cmluZyA9ICcnKSB7XHJcblx0XHRpZiAodGhpcy5yZWcudGVzdChhZ2FpbnN0KSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5leGVjKGFnYWluc3QpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9IC8vdGVzdFxyXG59IC8vQ29tbWFuZFxyXG5cclxubGV0IGNvbW1hbmRzOiBvYmplY3QgPSB7XHJcblx0ZGlzY29ubmVjdDogbmV3IENvbW1hbmQoJ14nICsgcHJlZml4ICsgXCJkaXNjPyhvbm5lY3QpPyRcIiwgKCk6IGFueSA9PiBzb2NrLmRpc2Nvbm5lY3QoKSksXHJcblx0Y29ubmVjdDogbmV3IENvbW1hbmQoJ14nICsgcHJlZml4ICsgXCJjb24obmVjdCk/JFwiLCAoKTogYW55ID0+IHNvY2sub3BlbigpKSxcclxuXHRhZG1pbjogbmV3IENvbW1hbmQoJ14nICsgcHJlZml4ICsgXCJhZG0oaW4pPyAuKyRcIiwgKGxpbmU6IHN0cmluZyk6IGFueSA9PiBzb2NrLmVtaXQoXCJpbUFkbWluXCIsIGRyb3AobGluZSkpKSxcclxuXHRjbGk6IG5ldyBDb21tYW5kKCdeJyArIHByZWZpeCArIFwiY2xpIFwiLCAobGluZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcblx0XHRzb2NrLmVtaXQoXCJjbGlcIiwgZHJvcChsaW5lLnRyaW0oKSkpO1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSlcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNvbW1hbmQobGluZTogc3RyaW5nKTogdm9pZCB7XHJcblx0Zm9yIChsZXQgaSBpbiBjb21tYW5kcykge1xyXG5cdFx0aWYgKGNvbW1hbmRzW2ldLnRlc3QobGluZSkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0bWVzc2FnZShgQ29tbWFuZCAnJHtsaW5lfScgbm90IGZvdW5kLmAsIFwiPGZvbnQgY29sb3I9J3JlZCc+PGI+U1lTVEVNPC9iPjwvZm9udD5cIik7XHJcbn0gLy9jb21tYW5kXHJcbiJdfQ==